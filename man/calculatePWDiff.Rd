% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/similarity.R
\name{calculatePWDiff}
\alias{calculatePWDiff}
\title{Calculate Pairwise Fragment Similarity Between Two Spectra}
\usage{
calculatePWDiff(v1, v2)
}
\arguments{
\item{v1}{Numeric vector. m/z values of one MS/MS spectrum (e.g., fragment peaks).}

\item{v2}{Numeric vector. m/z values of a second MS/MS spectrum to compare against.}
}
\value{
A numeric similarity score between 0 (no similarity) and 1 (perfect match).
}
\description{
This function compares two MS/MS spectra by evaluating the similarity
between their internal fragment m/z difference patterns (i.e., pairwise distances).
It returns a score between 0 and 1 representing how similar the fragmentation
patterns are based on their internal structure.
}
\details{
The method computes pairwise distances within each spectrum, filters out distances
less than or equal to 10 (to reduce noise), and compares the sets of distances.
The output is the higher of two metrics:
\enumerate{
  \item The proportion of total distance overlap.
  \item The proportion of distance values that match.
}


The shorter of the two input vectors is used as the reference. Pairwise distances
are computed using `dist()`, rounded to 2 decimal places, and filtered to retain
only those >10.

If either vector contains the exact value `10`, pairwise distance calculation
is skipped, and that vector is used as-is. Useful for adding known neutral loss vectors
}
\examples{
calculatePWDiff(c(100, 150, 200), c(100, 150, 250))
calculatePWDiff(c(101, 111, 121, 131), c(101, 112, 123, 134))

}
